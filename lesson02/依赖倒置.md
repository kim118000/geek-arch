#### 什么是依赖倒置原则，为什么有时候依赖倒置原则又被称为好莱坞原则？

```

1、依赖倒置原则是讲，调用方不要依赖被调用方，双方都依赖于抽象，因为抽象出的接口，具有通用性，稳定性，可规范约束双方的代码实现。这种思路主要用在框架设计中，用于制定标准规范，使用方和实现方都依赖于抽象出来的标准规范。

2、好莱坞原则是别打电话给我们，有事我会打电话给你。主要是讲好莱坞是不依赖演员的，一个角色可以有多个人来扮演，好莱坞可以通过演员库找到一个合适的演员。降低两者之间的依赖、减少成本。

类比到软件模式就是高层组件与底层组件之间不应该直接依赖，这样设计不易扩展，底层组件有任何变动都会造成高层组件跟着变动，是僵硬的、不灵活的。
```

#### 请描述一个你熟悉的框架，是如何实现依赖倒置原则的

```
1、Tomcat是运行java web的应用程序容器，我们编写的web应用程序代码只要部署在Tomcat容器下，就可以被Tomcat容器调用执行。在这里可以认为Tomcat就是高层模块，我们写的Servlet代码就是底层模块，这两者之间没有直接依赖，都是依赖于抽出来的Servlet规范，Servlet规范是被高层模块和底层模块依赖的。jetty也依赖于Servlet规范，你的应用代码也可以直接运行在jetty上。
```

```
2、redis存储数据结构
我们站在redis实现者的角度看，为了提高内存利用率和性能最大化，我们怎么样设计redis的数据结构存储呢？例如List集合，
平时我们用redis对List列表进行push，poll等操作，这些操作对于List数据结构的来说，是一种规范标准、更加范化。但是存储的实现方式是多种多样，Redis有两种存储实现方式ZipList和LinkedList，程序可以自动选择切换合适的实现方式，对Redis的事件处理器完全透明。这些都是抽象带来的稳定、隔离、易维护、易扩展等好处，高层访问数据层和底层数据存储层都依赖于抽象。

```

```
3、Spring IOC
以前我们写程序都是通过new对象来生成需要的对象，一个类的对象被硬编码到程序的各个角落，当类修改的时候，需要变动的地方就特别多，通过springIOC容器，我们可以把对象管理起来，当我们需要某个类型的对象的时候，spring自动帮我们注入到需要的对象。
容器管理的优点：
（1）依赖关系的集中管理，关系清晰且易管理；
（2）降低合作对象之间的耦合程度。
```

```
4、JDBC
JDBC数据库访问规范定义了Driver  Connection Statement等抽象接口。不同的数据库厂商都基于这规范进行代码实现，当我们使用Class.forName加载不同数据库访问驱动的时候，这些实现的驱动程序就被加载到DrivrManager中，获取一个Connection对象就是从指定的url地址对应的Driver对象中获取。我们的应用程序和数据库厂商都是依赖于java.sql包的接口进行编程开发，双方的变化都不互相影响，很方便替换成另外一个实现规范的驱动程序。
```

